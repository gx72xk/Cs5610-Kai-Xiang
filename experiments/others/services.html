<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <title>api</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/theme.css" rel="stylesheet">
    <link href="css/bootstrap-reset.css" rel="stylesheet">
    <!--external css-->
    <link href="assets/font-awesome/css/font-awesome.css" rel="stylesheet" />
      <link href='http://fonts.googleapis.com/css?family=Pacifico' rel='stylesheet' type='text/css'>
      <link href='http://fonts.googleapis.com/css?family=Oswald' rel='stylesheet' type='text/css'>
      <script src="js/skycons.js">  </script>



      <!-- Custom styles for this template -->
    <link href="css/style.css" rel="stylesheet">
    <link href="css/style-responsive.css" rel="stylesheet" />

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 tooltipss and media queries -->
    <!--[if lt IE 9]>
      <script src="js/html5shiv.js"></script>
      <script src="js/respond.min.js"></script>
    <![endif]-->
  </head>

  <body ng-app="ProjectApp" ng-controller="ProjectController">

  <div class="container">
      <h1>Description</h1>
      <p style="font-size:20px;font-family:'Comic Sans MS'">
          In here, I am using two api, weather api and google image api to return data and image in  the same time using <code>angular</code>
          the widget and the slide has not be finalized with its style, the final version will be much more prettier, in this case, user will get Boston for default result
      </p>
  </div><hr />

    <!--container start-->
      <div class="container about" style="margin-bottom:30px;">

          
          <div class="row" style="margin-bottom:20px;">
              
                  <div class="col-lg-7 text-center"><h3>Search Weather Details</h3></div>
                  <div class="col-lg-5 pull-right">
                      <div class="input-group" style="padding-right:15px;">
                          <input type="text" class="form-control" placeholder="Search for..." ng-model="CityName">
                          <span class="input-group-btn">
                              <button class="btn btn-default" type="button" ng-click="searchCity();searchCityImage()">Go!</button>
                          </span>
                      </div><!-- /input-group -->
                  </div><!-- /.col-lg-6 -->
             
          </div>
         
          <div class="col-lg-7 ">
              <div class="row text-center img-rounded" style="background:#1ABC9C">
                  <div class="col-lg-12  img-rounded " style="background:#16A085;height:40px;">
                      <h2 style="margin-top:0px;">{{city.cityname}}</h2>
                  </div>
                  <div class="col-lg-3 text-right" style="margin-top:50px">
                      <canvas id="icon1" width="72" height="72"></canvas>
                  </div>
                  <div class="col-lg-3 text-left" style="margin-top:50px">
                    <h3 style="font-size:60px;">{{city.currentcondition.temp_C}}℃</h3>
                  </div>
                  
                  <div class="col-lg-6 " style="margin-top:20px;">
                      <h3>{{city.currentcondition.weatherDesc[0].value}}</h3>
                      <h3>Feels like:{{city.currentcondition.FeelsLikeC}}℃</h3>
                      <h3>Wind:{{city.currentcondition.windspeedKmph}}mph|{{london.currentcondition.winddir16Point}}</h3>
                      <h3>Humidity:{{city.currentcondition.humidity}}%</h3>
                  </div><hr style="border:1px solid #16A085;margin-left:20px;margin-right:20px;" />
                  <div class="col-lg-2"><p>{{a}}</p><span><img ng-src="{{city.a.hourly[0].weatherIconUrl[0].value}}" height="40" /></span><p>{{city.a.mintempC}}℃/{{city.a.maxtempC}}℃</p></div>
                  <div class="col-lg-2"><p>{{b}}</p><span><img ng-src="{{city.b.hourly[0].weatherIconUrl[0].value}}" height="40" /></span><p>{{city.b.mintempC}}℃/{{city.b.maxtempC}}℃</p></div>
                  <div class="col-lg-2"><p>{{c}}</p><span><img ng-src="{{city.c.hourly[0].weatherIconUrl[0].value}}" height="40" /></span><p>{{city.c.mintempC}}℃/{{city.c.maxtempC}}℃</p></div>
                  <div class="col-lg-2"><p>{{d}}</p><span><img ng-src="{{city.d.hourly[0].weatherIconUrl[0].value}}" height="40" /></span><p>{{city.d.mintempC}}℃/{{city.d.maxtempC}}℃</p></div>
                  <div class="col-lg-2"><p>{{e}}</p><span><img ng-src="{{city.e.hourly[0].weatherIconUrl[0].value}}" height="40" /></span><p>{{city.e.mintempC}}℃/{{city.e.maxtempC}}℃</p></div>
                  <div class="col-lg-2"><p>{{f}}</p><span><img ng-src="{{city.f.hourly[0].weatherIconUrl[0].value}}" height="40" /></span><p>{{city.f.mintempC}}℃/{{city.f.maxtempC}}℃</p></div>
              </div>
          </div>
          <div class="col-lg-5">
              <div id="myCarousel" class="carousel slide " data-ride="carousel">
                  <!-- Indicators -->
                  <ol class="carousel-indicators">
                      <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                      <li data-target="#myCarousel" data-slide-to="1"></li>
                      <li data-target="#myCarousel" data-slide-to="2"></li>
                      <li data-target="#myCarousel" data-slide-to="3"></li>
                  </ol>
                  <div class="carousel-inner img-rounded" role="listbox" style="height:294px;">
                      <div class="item active ">
                          <img ng-src="{{slide.first}}" style="height:294px;" alt="First slide">
                      </div>
                      <div class="item">
                          <img ng-src="{{slide.second}}" style="height:294px;" alt=" second slide">
                      </div>
                      <div class="item">
                          <img ng-src="{{slide.third}}" style="height:294px" alt=" third slide">
                      </div>
                      <div class="item">
                          <img ng-src="{{slide.fouth}}" style="height:294px" alt=" fouth slide">
                      </div>
                      <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
                          <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                          <span class="sr-only">Previous</span>
                      </a>
                      <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
                          <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                          <span class="sr-only">Next</span>
                      </a>
                  </div>
              </div>
          </div>
      </div>
   
      <div class="container">
          <h2>Code Snippet</h2>
          <h3>JS</h3>
          <pre>
                          $scope.searchCity = function () {
       
            ApiService.searchCity($scope.CityName, function (response) {
                $scope.city = {
                    currentcondition: response.data.current_condition[0],
                    a: response.data.weather[1],
                    b: response.data.weather[2],
                    c: response.data.weather[3],
                    d: response.data.weather[4],
                    e: response.data.weather[5],
                    f: response.data.weather[6],
                    cityname: response.data.request[0].query,
                }
            //    console.log(response);
            });
    }

               $scope.searchCityImage = function () {
        ApiService.searchCityImage($scope.CityName, function (response) {
            $scope.slide = {
                first: response.responseData.results[0].url,
                second: response.responseData.results[1].url,
                third: response.responseData.results[2].url,
                fouth: response.responseData.results[3].url,
            }
            console.log($scope.slide);
        });
        } 
 
</pre>
          <h3>JS-ApiService</h3>
          <pre>

              var searchCity = function (city, callback) {
            $http.get("http://api.worldweatheronline.com/premium/v1/weather.ashx?num_of_days=7&q="+city+"&tp=24&format=json&key=36c06e6c39199fdbb6b6ce4057719")
            .success(callback)
    }
    var searchCityImage = function(city,callback){
        $http({
        method: 'jsonp', 
        url: "https://ajax.googleapis.com/ajax/services/search/images?v=1.0&q=" + city + "&imgsz=large&imgtype=photo&as_filetype=jpg&callback=JSON_CALLBACK",
        
        })
        .success(callback)
        }

</pre>
          <div class="panel-footer">
              <div class="container">
                  <div class="footer">
                      <label>References</label><br />
                      <a href="http://www.w3schools.com/">W3school</a><br />

                  </div>
                  <div class="footer">
                      <label>Source Code</label><br />
                      <a href="../../fileview/Default.aspx?~/experiments/others/tag.html">services.html</a><br />
                      <a href="../../fileview/Default.aspx?~/experiments/others/js/index.js">index.js</a><br />
                      <a href="../../fileview/Default.aspx?~/experiments/others/js/ApiService.js">ApiService.js</a><br />
                  </div>
              </div>
          </div>
      </div>
    

  <!-- js placed at the end of the document so the pages load faster -->
      <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
      <script src="js/angular-route.js"></script>
      <script src="js/index.js"></script>
      <script src="js/AngularService.js"></script>
    <script src="js/jquery-1.11.2.min.js"></script>
    <script src="js/jquery.js"></script>
    <script src="js/bootstrap.min.js"></script>
      <script>
    var skycons = new Skycons({ "color": "black" });

    skycons.add("icon1", Skycons.RAIN);

    skycons.play();


      </script>




  </body>
</html>
