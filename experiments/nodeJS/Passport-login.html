<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>

    <link href="css/bootstrap.min.css" rel="stylesheet" />

</head>
<body>
    <div class="container">
        <h1>Description</h1>
        <p style="font-size:20px;text-align:justify;font-family:'Comic Sans MS'">
            In this Experiment, I set up the loggin function and, and give user authentication after they loggedin.
        </p><hr />
        <img src="img/login.jpg" width="900" height="60" /><br />
        <a href="http://nodejs-gx72xk.rhcloud.com/signup.html#/home" style="font-size:30px;">Link to Openshift</a>

        <div>
            <h1>Code Snippet</h1>
            <h3>PassportJS</h3>
            <p>Post and Get method to achieve login function</p>
            <pre> 
app.post("/login", passport.authenticate('local'), function (req, res) {
    var user = req.user;
    console.log(user);
    res.json(user);
});
                                                                                 
</pre>

            <h3>AngularJs</h3>
            
            <pre> 
        $scope.login = function (user) {
        console.log(user);
        $http.post("/login", user)
        .success(function (response) {
            console.log(response);
            $rootScope.currentUser = response;
            $scope.u.username = null;
            $scope.u.password = null;
            $location.url("/profile");
        });
    }
</pre>
        </div>
        <div>
            <div class="panel-footer">
                <div class="container">
                    <div class="footer">
                        <label>References</label><br />
                        <a href="https://angularjs.org/">Angular</a><br />
                        <a href="http://passportjs.org/">PassportJS</a><br />
                    </div>
                    <div class="footer">
                        <label>Source Code</label><br />
                        <a href="https://github.com/gx72xk/Cs5610-Kai-Xiang">GitHub-openshift(under openshift/nodejs)</a><br />
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
