<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <link href="../../bootstrap-3.3.2-dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/Starter.css" />
    <link rel="stylesheet" href="css/jquery-ui.css" />
    <script src="js/jquery.js"></script>
    <script src="js/jquery-ui.js"></script>
    <script src="js/note.js"></script>
</head>
<body>
    
    <div class="container">
        <h1>Description</h1>
        <p>
            In this experiment I've just tried use the local web storage to render the<code>li</code> in jQuery, the<code>Remov All</code>button is just for removing the tags, the ,<code>clear</code>button is 
            is to clear the entire storage, you can use <code>create</code> to create the list and after save it, render by click the <code>load</code>.Also implenmented the<code>sortable</code>function
        </p>
    
            <h2>WebStorage</h2>
            <input class="input-lg" id="input" />
            <button id="newNote" class="btn-primary">Create</button>
            <button id="removeAll" class="btn-danger">Remove All</button>
            <button id="save" class="btn-default">Save</button>
            <button id="load" class="btn-success">Load</button>
            <button id="clear" class="btn-warning">clear</button>

        <ul id="sortable">
            
        </ul>

    </div>
    <div class="container">
        <h2>Code Snippet</h2>
        <h3>JS</h3>
        <pre>
            $(function () {
    $("#newNote").click(function () {
        newNote();
    })
    $("#save").click(save);
    $("#load").click(load);
    $("#clear").click(clear);
    $("#removeAll").click(removeall);
});
function load() {
    var note = localStorage.getItem("newnotes");
    if (note == null) {
        alert("Nothing");
    }
    else {
        note = JSON.parse(note);
        console.log(note);
        for (var n in note) {
            var newnote = note[n];
            var text = newnote.text;
            newNote(text);
        }
    }
}
function save() {
    var allli = $("li");
    var newNote = [];
    allli.each(function (index, item) {
        var li = $(item);
        var text = li.text();
        var Obj = {
            text: text,
        };
        newNote.push(Obj);
    });
    pStr = JSON.stringify(newNote);
    localStorage.setItem("newnotes", pStr);
}
function newNote(text) {
    var li = $("<li>");
    var content = $("input").val()
    if (content == "") {
        alert("No content!")
    }
    else {
        var text = content
        li
            .html(text)
        $("ul").append(li)
       
    }
}
function removeall() {
    $("li").remove();
}
function clear() {
    localStorage.removeItem("newnotes");
    $("input").val("");
}
$(function () {
    $("#sortable").sortable();
    $("#sortable").disableSelection();
});
                                                                                                    
</pre>
    </div>
    <div class="container">
        <div class="panel-footer">
            <div class="container">
                <div class="footer">
                    <label>References</label><br />
                    <a href="http://www.w3schools.com/">W3school</a><br />
                    <a href="https://docs.angularjs.org/guide">jQuery</a><br />
                </div>
                <div class="footer">
                    <label>Source Code</label><br />
                    <a href="../../fileview/Default.aspx?~/experiments/iQueryUI/WebStorage.html ">WebStorage.html</a><br />
                    <a href="../../fileview/Default.aspx?~/experiments/iQueryUI/js/note.js">note.js</a>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
